<div class="container">
<div class="row">
	<div class="col-8">
		<div class="card mt-5 mb-5">
		  <h5 class="card-header">Add	User Form</h5>
		  <div class="card-body">
		    	<app-user-form
		    		[userDetail] = "userDetail"
		    		[resetForm] = "resetForm"
		    		(addUser) = "onAddUser($event)"
		    		(editUser) = "onEditUser($event)"
		    	></app-user-form>
		  </div>
		</div>
	</div>
</div>

<div class="row mb-3">
    <div class="col-xs-12 col-md-6 col-md-offset-3">      
      <button
        class="btn btn-danger"
        [disabled]="loadedUsers.length < 1"
        (click)="onDeleteUsers()">
        Drop All Users
      </button>
      <button 
    		type="button" 
    		class="btn btn-info mr-5"
    		(click)="resetUserForm()"
    		*ngIf="userId disabled">
    	Add New User
    	</button>
    </div>
  </div>

<div class="row">
	<div class="col-12">
		<p class="mt-3" *ngIf="loadedUsers.length < 1 && !isFetching">No users available!</p>
		<p *ngIf="isFetching && !error">Loading users...</p>
		<div class="alert alert-danger" *ngIf="error">
			<h3>Error Occured!</h3>
			<p>{{ error }}</p>
			<button class="btn btn-info btn-sm" (click)="onHandleError()">Close</button>
		</div>
		<div class="container" *ngIf="loadedUsers.length >= 1 && !isFetching">
  		<div class="row border-bottom border-1">
  			<div class="col-2 title">
  				First Name
  			</div>
  			<div class="col-2 title">
  				Last Name
  			</div>
  			<div class="col-3 title">
  				Email Address
  			</div>
  			<div class="col-2 title">
  				Phone
  			</div>
  			<div class="col-3 title">
  				Action
  			</div>
  		</div>
  		<app-user-detail 
		    *ngFor="let user of loadedUsers"
		    [userDetail]="user"
		    (editUser)="editUser($event)"
		    (deleteUser)="onDeleteUser($event)"
		  ></app-user-detail>
  	</div>

	</div>
</div>



</div>
